# This file was generated by GoReleaser. DO NOT EDIT.
cask "reconmapd" do
  name "reconmapd"
  desc "Reconmapd: The Reconmap agent allows clients to launch commands remotely, open interactive browser terminals, and receive push notifications."
  homepage "https://github.com/reconmap/command-line-tools/tree/main/agent"
  version "0.10.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "reconmapd"

  on_macos do
    on_intel do
      url "https://github.com/reconmap/command-line-tools/releases/download/#{version}/reconmapd-darwin-amd64.tar.gz"
      sha256 "260648b5458c9eabdd5adb88a1acfa99b145023de322e2ce9cf42a38b2948ba9"
    end
    on_arm do
      url "https://github.com/reconmap/command-line-tools/releases/download/#{version}/reconmapd-darwin-arm64.tar.gz"
      sha256 "c40e037f1f8a7e70bb59c07068880dc930a74f4f1370c78ac36de5d9d4502613"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/reconmap/command-line-tools/releases/download/#{version}/reconmapd-linux-amd64.tar.gz"
      sha256 "c3d8c11eaf569568ebea2bc27d791308d8ca00efc059956567be49a1e8bd2e81"
    end
    on_arm do
      url "https://github.com/reconmap/command-line-tools/releases/download/#{version}/reconmapd-linux-arm64.tar.gz"
      sha256 "6bb139a1e455bbf343a059998d477802e3215073aed28de19b839cdfdace3853"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/reconmapd"]
    end
  end

  # No zap stanza required
end
